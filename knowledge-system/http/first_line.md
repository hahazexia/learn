# 起始行

## 组成

* http 报文的第一部分是起始行。
* 请求报文的起始行包括
    * 请求类型（method）
    * url
    * 版本号 （version）
* 响应报文的起始行包括
    * 版本号 （version）
    * 状态码（status code）
    * 原因短语（reason phrase）

```js
// 请求的起始行

GET /test/test.html HTTP/1.1

// 响应的起始行
HTTP 1.1 200 OK
```

## url 统一资源定位符

```js
`https://www.example.com:80/path/to/myfile.html?key1=value1&key2=value2#anchor`
```

* url (统一资源定位符，网址) 由哪些部分组成？
    * 协议（scheme），是浏览器请求服务器资源的方法。
    互联网支持多种协议，必须指明网址使用哪一种协议，默认是 `HTTP` 协议。`HTTP` 和 `HTTPS` 的协议名称后面，紧跟着一个冒号和两个斜杠（`://`）。其他协议不一定如此，邮件地址协议`mailto:`的协议名后面只有一个冒号，比如`mailto:foo@example.com`。
    * 主机（host），是资源所在的网站名或服务器的名字，又称为`域名`。有些主机没有域名，只有 `IP` 地址，比如192.168.2.15。
    * 端口（port），同一个域名下面可能同时包含多个网站，它们之间通过端口区分。网站的默认端口是 `80`。端口紧跟在域名后面，两者之间使用冒号分隔，比如`www.example.com:80`。
    * 路径（path），是资源在网站的位置。互联网的早期，路径是真实存在的物理位置。现在由于服务器可以模拟这些位置，所以路径只是虚拟位置。
    * 查询参数（parameter），是提供给服务器的额外信息。参数的位置是在路径后面，两者之间使用`?`分隔，例如`?key1=value1&key2=value2`。
    查询参数可以有一组或多组。每组参数都是键值对（key-value pair）的形式，同时具有键名(key)和键值(value)，它们之间使用等号（=）连接。比如，`key1=value`就是一个键值对，`key1`是键名，`value1`是键值。多组参数之间使用&连接，比如`key1=value1&key2=value2`。
    * 锚点（anchor），是网页内部的定位点。浏览器加载带有锚点的页面以后，会自动滚动到锚点所在的位置。

* 组成 url 的字符有哪些？
    * 第一种，合法字符：
        * 26个英语字母（包括大写和小写）
        * 10个阿拉伯数字
        * 连词号`-`
        * 句点`.`
        * 下划线`_`
    * 第二种，18 个保留字符，要使用这些保留字符，必须使用它们的转义形式，在这些字符的十六进制 `ASCII` 码前面加上百分号 `%`。
        * !：%21
        * #：%23
        * $：%24
        * &：%26
        * '：%27
        * (：%28
        * )：%29
        * *：%2A
        * +：%2B
        * ,：%2C
        * /：%2F
        * :：%3A
        * ;：%3B
        * =：%3D
        * ?：%3F
        * @：%40
        * [：%5B
        * ]：%5D
    * 第三种，合法字符和保留字符除外的其他字符，理论上不需要手动转义，可以直接写在 URL 里面，浏览器会自动将它们转义，发给服务器。转义方法是使用这些字符的十六进制 UTF-8 编码，每两位算作一组，然后每组头部添加百分号`%`。比如 `www.example.com/中国.html` 可以写作 `www.example.com/%e4%b8%ad%e5%9b%bd.html`，`中`的转义形式是`%e4%b8%ad`，`国`是`%e5%9b%bd`。

## 状态码

